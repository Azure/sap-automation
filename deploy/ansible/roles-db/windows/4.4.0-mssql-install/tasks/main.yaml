# -------------------------------------+---------------------------------------8
#
# Description:  Run SQL Server for Prerequisites
#

- name:                                "WIN-SQL: Run SQL Server Prerequisites"
  ansible.builtin.import_tasks:        4.4.0.0-mssql-prerequisites.yaml
  when: tier | lower == 'sqlserver'

# -------------------------------------+---------------------------------------8
#
# Description:  Run SQL Server Installation
#
# -------------------------------------+---------------------------------------8

- name:                                "WIN-SQL: Run SQL Server Installation"
  ansible.builtin.import_tasks:        4.4.0.1-mssql-main.yaml
  when: tier | lower == 'sqlserver'

- name:                                "Invoke SQL Server Always On configuration"
  when: tier | lower == 'sqlserverha'
  block:
    - name:                                "WIN-SQL-HA: AlwaysOn Prerequisites"
      ansible.builtin.import_tasks:        roles-db/windows/4.4.0-mssql-install/tasks/4.4.1.0-mssql-alwayson-prerequisites.yaml

    - name:                                "WIN-SQL-HA: AlwaysOn Prerequisites"
      ansible.builtin.import_tasks:        roles-db/windows/4.4.0-mssql-install/tasks/4.4.1.0-mssql-alwayson-prerequisites.yaml

...
# /*---------------------------------------------------------------------------8
# |                                   END                                      |
# +------------------------------------4--------------------------------------*/
