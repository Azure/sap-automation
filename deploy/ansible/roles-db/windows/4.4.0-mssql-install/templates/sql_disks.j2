{% set sql_disks = [] %}
{% set sql_data_disks_names = [] %}
{% set sql_log_disks_names = [] %}
{% set sid = scs_sid %}
{% set data_part = '.MDF\' ~  sid  ~ 'DATA' %}
{% set log_part  = '.LDF\' ~ sid ~ 'LOG' %}
{% for disk in disks %}
{%   if (disk.type == 'data' and disk.host == ansible_hostname ) %}
{%     set _ = sql_data_disks_names.append("EFGHIJKLMNOP"[disk.LUN]~':\DATA\DATA' ~ disk.LUN ~ data_part ~ disk.LUN) %}
{%   endif %}
{%   if (disk.type == 'log' and disk.host == ansible_hostname ) %}
{%     set _ = sql_log_disks_names.append("NOP"[disk.LUN-16]~':\LOG\LOG' ~ disk.LUN ~ log_part ~ (disk.LUN-15)) %}
{%   endif %}
{% endfor %}
{% set _ = sql_disks.append(sql_data_disks_names) %}
{% set _ = sql_disks.append(sql_log_disks_names) %}
{{ sql_disks }}
