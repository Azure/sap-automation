---

# /*---------------------------------------------------------------------------8
# | Prepare the sql script  for  data guard initial configuration.             |
# |                                                                            |
# |                                                                            |
# | Step 1 create the SQL scripts for DG                                       |
# +------------------------------------4--------------------------------------*/

# Set Primary and Secondary node names.

# - name:                     Setting the primary and Secondary DB names
#   ansible.builtin.set_fact:
#     ora_primary:           "{{ ansible_play_hosts_all[0] }}"         # Oracle Primary Host
#     ora_secondary:         "{{ ansible_play_hosts_all[1] }}"         # Oracle Secondary Host
#     current_host:          "{{ ansible_hostname }}"
#     observer_host:         "{{ sap_sid|upper }}_OBSERVER_DB"



- import_tasks: "ora-dg-prep.yaml"
  when:   
    - node_tier == "oracle"


- import_tasks: "ora-dg-setup-primary.yaml"
  when:   
    - node_tier == "oracle"
    - node_tier != "observer"


# - import_tasks: "ora-dg-setup-secondary.yaml"
#   when:   
#     - node_tier == "oracle"
#     - current_host == ora_secondary

- import_tasks: "ora-dg-observer-setup.yaml"
  when:   
    - node_tier == "observer"
  #  - current_host == observer_host


 

...
# /*---------------------------------------------------------------------------8
# |                                   END                                      |
# +------------------------------------4--------------------------------------*/
