# /*---------------------------------------------------------------------------8
# |                                                                            |
# |                Perform the Sybase ASE Software installation                |
# |                  Step 3: Check for OS Users                        |
# |                                                                            |
# +------------------------------------4--------------------------------------*/
---

# Check whether the user exists or not for SYBASE DB Install
- name: Check if user "{{ sidadm_user }}" was already created
  user:
    name: "{{ sidadm_user }}"
    state: present
  check_mode: yes
  register: sidadm_user_status

- name: Ensure group "{{ sapinst_user_group }}" exists
  group:
    name: "{{ sapinst_user_group }}"
    gid: "{{ sapinst_gid }}"
    state: present

- name: Add current user to "{{ sapinst_user_group }}" group
  user:
    name: "{{ ansible_user_id }}"
    group: "{{ sapinst_user_group }}"

- name: Ensure root user has root as primary group
  user:
    name: root
    group: root
  
...

